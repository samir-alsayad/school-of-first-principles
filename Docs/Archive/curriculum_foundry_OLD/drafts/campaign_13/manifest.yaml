# Sovereign School: Campaign Manifest (The Meta-Protocol)
# Philosophy: "Deferred Design, rigorous Linkage"
# Purpose: Orchestrates the 4 Phases of a Grand Campaign (Survey -> Analysis -> Skill -> Build).

id: school-campaign-v1
version: 1.0.0
meta:
  guards:
    - Deferred Design
    - Knowledge Linkage
  philosophy: "Do not design until you have learned."
  prefixes:
    intent: "REQ-"   # Requirements
    knowledge: "LINK-" # Linked Session ID
    design: "SPEC-"  # Architecture Spec

roles:
  - id: sovereign
    capability: "The Strategic Lead"
    focus: [intent, approval]
  - id: agent
    capability: "The Tactical Exec"
    focus: [research, drafting]

gates:
  - id: gate_charter
    responsible_role: sovereign
    permissions:
      read: [school-of-first-principles]
      write: [school-of-first-principles/curriculum/foundry/drafts]
    mandatory_sections:
      - Requirements: "EARS Syntax (WHEN..SHALL)"
      - Design Spec: "MUST BE EMPTY (or marked DEFERRED)"
    verification_rule: "The Intent must be clear, and the Design must be blank."
    output_artifacts:
      - "intent.md"

  - id: gate_skills
    depends_on: gate_charter
    responsible_role: agent
    permissions:
      read: [gap/sessions]
      write: [school-of-first-principles/curriculum/foundry/drafts]
    mandatory_sections:
      - Knowledge Ledger: "List of completed Learning Module Session IDs."
    verification_rule: "All linked sessions must be valid and complete."
    output_artifacts:
      - "knowledge_ledger.md"

  - id: gate_design
    depends_on: gate_skills
    responsible_role: sovereign
    permissions:
      write: [school-of-first-principles/curriculum/foundry/drafts]
    mandatory_sections:
      - Design Spec: "Now populated with rigor."
      - Justification: "References to Knowledge Ledger."
    verification_rule: "The Design must solve the Charter's Requirements."
    output_artifacts:
      - "intent.md" (Updated)

  - id: gate_delivery
    depends_on: gate_design
    responsible_role: agent
    permissions:
      exec: [cp, mv] # For internal School moves only? Or manual?
    mandatory_sections:
      - Casting Guide: "The manual instructions."
    verification_rule: "The Sovereign must confirm the Casting."
    output_artifacts:
      - "casting_guide.md"
